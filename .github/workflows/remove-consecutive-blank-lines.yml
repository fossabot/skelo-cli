name: Remove Consecutive Blank Lines

on:
  workflow_dispatch:

jobs:
  remove-lines:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0

      - name: Remove Blank Lines
        run: |
          find . -type f \( -name "*.md" -o -name "*.markdown" -o -name "*.js" -o -name "*.json" -o -name "*.css" \) -exec sed -i '/^\s*$/N;/^\s*$/D' {} +

      - name: Commit Changes
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: "Remove consecutive blank lines"
          file_pattern: ./**/*.{md,markdown,js,json,css}
          pre_commit_command: "echo 'Files modified:' && git status"



# name: Remove Consecutive Blank Lines

# on:
#   workflow_dispatch:

# jobs:
#   remove-lines:
#     runs-on: ubuntu-latest
#     steps:
#       - uses: actions/checkout@v3
#         with:
#           fetch-depth: 0

#       - name: Create Test Files # Create multiple test files
#         run: |
#           cat << EOF > test.md
          


#           line 1


#           line 2



#           EOF
#           cat << EOF > test.markdown
          


#           markdown line 1


#           markdown line 2



#           EOF
#           cat << EOF > test.js
          


#           // js line 1


#           // js line 2



#           EOF
#           cat << EOF > test.json
#           {



#           "key1": "value1",



#           "key2": "value2"



#           }
#           EOF
#           cat << EOF > test.css
          



#           .class1 {



#           color: red;



#           }



#           EOF



#       - name: Remove Blank Lines
#         run: |
#           find . -type f \( -name "*.md" -o -name "*.markdown" -o -name "*.js" -o -name "*.json" -o -name "*.css" \) -exec sed -i '/^\s*$/N;/^\s*$/D' {} +
#           cat test.md
#           cat test.markdown
#           cat test.js
#           cat test.json
#           cat test.css
#           git status
#           git diff

#       - name: Commit Changes
#         uses: stefanzweifel/git-auto-commit-action@v4
#         with:
#           commit_message: "Test blank line removal"
#           file_pattern: ./**/*.{md,markdown,js,json,css} # Updated file pattern


# # name: Remove Consecutive Blank Lines

# # on:
# #   workflow_dispatch:

# # jobs:
# #   remove-lines:
# #     runs-on: ubuntu-latest
# #     steps:
# #       - uses: actions/checkout@v3
# #         with:
# #           fetch-depth: 0

# #       - name: Create Test File
# #         run: |
# #           cat << EOF > test.md
          


# #           line 1


# #           line 2



# #           EOF

# #       - name: Remove Blank Lines
# #         run: |
# #           sed -i '/^\s*$/N;/^\s*$/D' test.md
# #           cat test.md
# #           git status
# #           git diff

# #       - name: Commit Changes
# #         uses: stefanzweifel/git-auto-commit-action@v4
# #         with:
# #           commit_message: "Test blank line removal"
# #           file_pattern: test.md
